<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>坪數＋浪板＋C型鋼 計算器</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    padding: 30px;
    text-align: center;
  }

  .box {
    background: white;
    padding: 25px;
    margin: 20px auto;
    width: 90%;
    max-width: 600px;
    border-radius: 10px;
    box-shadow: 0px 0px 10px #ddd;
  }

  input, select {
    padding: 10px;
    margin: 5px;
    width: 160px;
    font-size: 16px;
    text-align: center;
  }

  .result {
    margin-top: 15px;
    font-size: 18px;
    font-weight: bold;
    color: #0055cc;
  }

  label {
    font-size: 15px;
    margin-right: 5px;
  }
</style>
</head>
<body>

<h1>坪數 + 浪板 + C型鋼 計算器</h1>

<!-- 坪數計算 -->
<div class="box">
  <h2>坪數計算</h2>
  <input type="number" id="len" placeholder="長 (cm)" oninput="calcPing()">
  <input type="number" id="wid" placeholder="寬 (cm)" oninput="calcPing()">
  <div id="pingResult" class="result">請輸入長寬</div>
</div>

<!-- 浪板片數 -->
<div class="box">
  <h2>浪板片數計算（750型）</h2>

  <select id="slopeType" onchange="calcWave()">
    <option value="1">單斜</option>
    <option value="2">雙斜（自動 ×2）</option>
  </select>

  <br>
  <input type="number" id="roofLen" placeholder="單邊屋頂長度 (cm)" oninput="calcWave()">

  <div id="waveResult" class="result">請輸入資料</div>
</div>

<!-- C型鋼計算 -->
<div class="box">
  <h2>C 型鋼間距計算（60～80 cm）</h2>

  <input type="number" id="cLen" placeholder="斜樑總長 (cm)" oninput="calcC()">

  <br>
  <label>首隻間距（固定）</label>
  <input type="number" value="15" id="firstGap" readonly>

  <div id="cResult" class="result">請輸入資料</div>
</div>

<script>

// ------------------ 坪數 ------------------
function calcPing() {
  let L = parseFloat(document.getElementById("len").value);
  let W = parseFloat(document.getElementById("wid").value);

  if (isNaN(L) || isNaN(W)) {
    document.getElementById("pingResult").innerHTML = "請輸入長寬";
    return;
  }

  let cm2 = L * W;
  let m2 = cm2 / 10000;
  let ping = cm2 / 33057.85;

  document.getElementById("pingResult").innerHTML =
    `約 ${ping.toFixed(2)} 坪（${m2.toFixed(2)} m²）`;
}



// ------------------ 浪板片數 ------------------
function calcWave() {
  let type = parseInt(document.getElementById("slopeType").value);
  let L = parseFloat(document.getElementById("roofLen").value);

  if (isNaN(L)) {
    document.getElementById("waveResult").innerHTML = "請輸入資料";
    return;
  }

  let pcs = Math.ceil(L / 75);   // 單邊片數

  if (type === 2) pcs = pcs * 2; // 雙斜 ×2

  document.getElementById("waveResult").innerHTML =
    `需要浪板：${pcs} 片`;
}



// ------------------ C 型鋼隻數計算 ------------------
function calcC() {
  let total = parseFloat(document.getElementById("cLen").value);
  let firstGap = 15;

  if (isNaN(total)) {
    document.getElementById("cResult").innerHTML = "請輸入資料";
    return;
  }

  let usable = total - firstGap;
  let txt = "";

  txt += `總長：${total} cm（已扣首隻 15 cm）<br><br>`;

  // 測試 7～12 隻（你可調整）
  for (let n = 7; n <= 12; n++) {

    let space = usable / n;

    if (space <= 80 && space >= 60) {

      txt += `${usable} / ${n} 隻 = ${space.toFixed(1)} cm　（共計 ${n + 1} 隻）<br>`;
    }
  }

  if (txt.indexOf("隻") === -1) {
    txt = "沒有符合 60～80 cm 的分佈";
  }

  document.getElementById("cResult").innerHTML = txt;
}

</script>

</body>
</html>
